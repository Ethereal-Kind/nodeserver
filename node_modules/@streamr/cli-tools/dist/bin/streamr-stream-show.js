#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("../src/logLevel");
const command_1 = require("../src/command");
const permission_1 = require("../src/permission");
(0, command_1.createClientCommand)(async (client, streamId, options) => {
    const stream = await client.getStream(streamId);
    const obj = stream.toObject();
    if (options.includePermissions) {
        const assigments = await stream.getPermissions();
        obj.permissions = assigments.map((assignment) => {
            return {
                ...assignment,
                permissions: assignment.permissions.map(permission_1.getPermissionId)
            };
        });
    }
    console.info(JSON.stringify(obj, null, 2));
})
    .arguments('<streamId>')
    .description('show detailed information about a stream')
    .option('--include-permissions', 'include list of permissions')
    .parseAsync();
//# sourceMappingURL=streamr-stream-show.js.map