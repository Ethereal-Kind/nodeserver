#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("../src/logLevel");
const command_1 = require("../src/command");
const common_1 = require("../src/common");
(0, command_1.createClientCommand)(async (client, streamId, options) => {
    await client.subscribe({
        streamId,
        partition: options.partition,
    }, (message) => console.info(JSON.stringify(message)));
}, {
    autoDestroyClient: false,
    clientOptionsFactory: (options) => ({
        orderMessages: !options.disableOrdering
    })
})
    .arguments('<streamId>')
    .description('subscribe to a stream, prints JSON messages to stdout line-by-line')
    .option('-p, --partition [partition]', 'partition', (0, common_1.createFnParseInt)('--partition'), 0)
    .option('-d, --disable-ordering', 'disable ordering of messages by OrderingUtil', false)
    .parseAsync();
//# sourceMappingURL=streamr-stream-subscribe.js.map