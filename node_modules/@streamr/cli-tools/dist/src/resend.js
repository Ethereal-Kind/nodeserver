"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resend = exports.assertBothOrNoneDefined = void 0;
const assertBothOrNoneDefined = (option1, option2, errorMessage, commandOptions) => {
    if ((option1 in commandOptions && !(option2 in commandOptions)) || (option2 in commandOptions && !(option1 in commandOptions))) {
        console.error(`option ${errorMessage}`);
        process.exit(1);
    }
};
exports.assertBothOrNoneDefined = assertBothOrNoneDefined;
const resend = async (streamId, resendOpts, client, subscribe) => {
    try {
        const handler = (message) => {
            console.info(JSON.stringify(message));
        };
        if (subscribe) {
            await client.subscribe({
                stream: streamId,
                resend: resendOpts
            }, handler);
        }
        else {
            await client.resend(streamId, resendOpts, handler);
        }
    }
    catch (err) {
        console.error(err.message ? err.message : err);
        process.exit(1);
    }
};
exports.resend = resend;
//# sourceMappingURL=resend.js.map